# wardrobe: .
# distro: arch
# costume: colibri
---
name: colibri
description: >-
  desktop xfce4 plus all that I need to develop eggs, firmwares
author: artisan
release: 0.9.0
distributions:
  - rolling
sequence:
  repositories:
    update: true
    upgrade: true

  packages:
    - lightdm
    - lightdm-gtk-greeter

    # xfce-minimal
    - thunar
    - xfce4-panel
    - xfce4-pulseaudio-plugin 
    - xfce4-session
    - xfce4-settings 
    - xfce4-terminal
    - xfce4-whiskermenu-plugin
    - xfdesktop
    - xfwm4
    - xorg-server
    - zenity

    # fonts
    - noto-fonts # Un set di font completo e moderno di Google
    - noto-fonts-emoji # Per il supporto alle emoji

    # audio
    - alsa-utils
    - pipewire
    - pipewire-pulse   # Fornisce compatibilit√† per le app che si aspettano PulseAudio
    - wireplumber      # Session manager per PipeWire
    - pipewire-alsa    # Per reindirizzare le app che usano ALSA a PipeWire

    # various
    - bluez
    - bluez-utils
    - cups
    - firefox
    - gnome-disk-utility
    - gvfs # per automomunt
    - network-manager-applet
    - polkit-gnome
    - shellcheck
    - spice-vdagent
    - unzip
    - xarchiver
    - xdg-user-dirs
    - xorg-xrandr

  accessories:
    - eggs-dev

finalize:
  customize: true
  cmds:
    # arch
    - groupadd -r autologin
    - gpasswd -a "${SUDO_USER}" autologin
    - systemctl enable NetworkManager
    - systemctl enable udisks2.service
    - systemctl enable lightdm
    - systemctl enable cups.service
    - systemctl enable bluetooth.service

    # standard
    - ../../scripts/config_desktop_link.sh
    - ../../scripts/config_lightdm.sh
    - ../../scripts/hostname.sh

reboot: true
